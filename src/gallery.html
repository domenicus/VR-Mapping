<html>
    <head>
        <!--<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>-->
        <!--<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>-->
        <script src="aframe-local-dev.js"></script>
        <script src="voices-lib.js"></script>
        <script src="mapofmaps.js"></script>
        <script src="gallery.js"></script>
        <script src="portal-lib.js"></script>
    </head>
    <body>
	<a-scene>
		<a-assets timeout=100000>
			<img id="mapofmaps" src="temp/out.jpg"></img>
			<img id="space" src="temp/PIA15482.jpg"></img>
			<a-asset-item id="metafile" src="temp/out.json"></a-asset-item>
		</a-assets>
		<a-entity gallery="metafile: #metafile; mapfile:#mapofmaps; navtools: #mapworld; exhibits: a, b, c; platform: #platform;"/>
		</a-entity>
        <a-entity id="platform" obj-model="obj: url(temp/platform.obj)" rotation="0 180 0" position="0 100 5000" material="shader: standard" scale="0.66 0.66 0.66"></a-entity>
		<a-entity id="nexus" position="0 0 0">
			<a-sphere id="outermap" src="#space" radius="10"
			theta-start="0" theta-length="180" material="side: back; shader: flat" class="clickable">
			</a-sphere>
			<!--
			<a-light color=#faebd7 type="point" distance=20 decay=0 position="-2 5.5 0" intensity="0.5"></a-light>
			<a-light color=#faebd7 type="point" distance=20 decay=0 position="2 5.5 0" intensity="0.5"></a-light>
			-->
		</a-entity>

        <a-sphere position="0 0 -0.4" id="mapworld" src="#mapofmaps" radius="0.185"
        theta-start="0" theta-length="180" class="clickable" material="side: back; shader: flat">
            <a-entity obj-model="obj: url(temp/compass.obj)" scale="0.15, 0.15, 0.15" position="0 -0.15 0"></a-entity>
            <!--
            -->
        </a-sphere>
		<a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: .clickable">
		</a-entity>
		<a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: .clickable" line="color: #FF8A7E"></a-entity>
        <a-entity position="0 0 0">
            <a-entity camera="active:true;" look-controls wasd-controls>
                <!-- FOR DEBUGGING
                <a-entity cursor="fuse: true; fuseTimeout: 1500" position="0 0 -0.1"
                geometry="primitive: ring; radiusInner: 0.003; radiusOuter: 0.005"
                material="color: black; shader: flat"
                animation__click="property:scale;startEvents:click;easing:easeInCubic;dur:150;from: 0.1 0.1 0.1; to: 1 1 1"
                animation__fusing="property:scale; startEvents:fusing;easing:easeInCubic;dur:1500;from: 1 1 1; to: 0.1 0.1 0.1"
                animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
                >
                </a-entity>
                -->
            </a-entity>
		</a-entity>
	</a-scene>
    </body>
</html>
